<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1600" height="1000" viewBox="0 0 1600 1000">
  <rect x="0" y="0" width="1600" height="1000" fill="#ffffff"/>
  <text x="20" y="30" font-size="20" font-family="Arial" fill="#333">HomeoERP ERD (high level)</text>
  <!-- Simple boxes for main entities -->
  <g>
    <rect x="20" y="60" width="200" height="120" fill="#f5f5f5" stroke="#333"/>
    <text x="30" y="80" font-size="14">users</text>
    <text x="30" y="100" font-size="12">id (PK), email (UQ)</text>
  </g>
  <g>
    <rect x="240" y="60" width="200" height="100" fill="#f5f5f5" stroke="#333"/>
    <text x="250" y="80" font-size="14">roles</text>
  </g>
  <g>
    <rect x="460" y="60" width="200" height="100" fill="#f5f5f5" stroke="#333"/>
    <text x="470" y="80" font-size="14">permissions</text>
  </g>
  <g>
    <rect x="680" y="60" width="220" height="120" fill="#f5f5f5" stroke="#333"/>
    <text x="690" y="80" font-size="14">shops</text>
  </g>
  <g>
    <rect x="20" y="220" width="260" height="150" fill="#eef7ff" stroke="#333"/>
    <text x="30" y="240" font-size="14">products</text>
  </g>
  <g>
    <rect x="300" y="220" width="280" height="160" fill="#eef7ff" stroke="#333"/>
    <text x="310" y="240" font-size="14">inventory_batches</text>
  </g>
  <g>
    <rect x="600" y="220" width="260" height="160" fill="#eef7ff" stroke="#333"/>
    <text x="610" y="240" font-size="14">orders (partitioned)</text>
  </g>
  <g>
    <rect x="880" y="220" width="240" height="140" fill="#eef7ff" stroke="#333"/>
    <text x="890" y="240" font-size="14">order_items</text>
  </g>
  <g>
    <rect x="1160" y="220" width="240" height="160" fill="#fff7ee" stroke="#333"/>
    <text x="1170" y="240" font-size="14">outbox (partitioned)</text>
  </g>
  <g>
    <rect x="1420" y="220" width="160" height="160" fill="#fff7ee" stroke="#333"/>
    <text x="1430" y="240" font-size="14">audit_logs</text>
  </g>
  <g>
    <rect x="20" y="400" width="240" height="150" fill="#f4fff0" stroke="#333"/>
    <text x="30" y="420" font-size="14">purchase_orders</text>
  </g>
  <g>
    <rect x="280" y="400" width="240" height="160" fill="#f4fff0" stroke="#333"/>
    <text x="290" y="420" font-size="14">purchase_items</text>
  </g>
  <g>
    <rect x="540" y="400" width="260" height="160" fill="#f4fff0" stroke="#333"/>
    <text x="550" y="420" font-size="14">vendor_receipts (GRN)</text>
  </g>
  <g>
    <rect x="820" y="400" width="220" height="130" fill="#f4fff0" stroke="#333"/>
    <text x="830" y="420" font-size="14">invoices</text>
  </g>
  <g>
    <rect x="1060" y="400" width="220" height="130" fill="#f4fff0" stroke="#333"/>
    <text x="1070" y="420" font-size="14">payments</text>
  </g>
  <g>
    <rect x="20" y="580" width="260" height="160" fill="#fffff4" stroke="#333"/>
    <text x="30" y="600" font-size="14">vendor_product_mappings</text>
  </g>
  <g>
    <rect x="300" y="580" width="280" height="180" fill="#fffff4" stroke="#333"/>
    <text x="310" y="600" font-size="14">parsed_invoices</text>
  </g>
  <g>
    <rect x="600" y="580" width="320" height="200" fill="#fffff4" stroke="#333"/>
    <text x="610" y="600" font-size="14">parsed_invoice_lines</text>
  </g>
  <g>
    <rect x="940" y="580" width="240" height="180" fill="#ffeeff" stroke="#333"/>
    <text x="950" y="600" font-size="14">system_bugs</text>
  </g>
  <g>
    <rect x="1200" y="580" width="240" height="160" fill="#ffeeff" stroke="#333"/>
    <text x="1210" y="600" font-size="14">reconciliation_tasks</text>
  </g>
  <g>
    <rect x="1460" y="580" width="120" height="160" fill="#eef" stroke="#333"/>
    <text x="1470" y="600" font-size="14">ai_requests</text>
  </g>
  <!-- Legend -->
  <text x="1160" y="70" font-size="12">Indexes: GIN(JSONB), pg_trgm on text, pgvector on embeddings</text>
</svg>
